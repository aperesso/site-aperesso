{"ast":null,"code":"import * as THREE from 'three';\nimport { CAMERA_SETTINGS } from './utils/settings';\nimport Audio from './utils/audio';\nimport Gui from './utils/gui';\nimport { getDimensions } from './utils';\nimport Sphere from './scene/sphere';\nimport Particles from './scene/particles';\n\nconst WebGL = function () {\n  const canvas = document.getElementById('webGL');\n  const {\n    width,\n    height\n  } = getDimensions('webGL');\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(CAMERA_SETTINGS.fov, width / height, CAMERA_SETTINGS.near, CAMERA_SETTINGS.far);\n  camera.position.set(0, 0, 20);\n  const renderer = new THREE.WebGLRenderer({\n    canvas,\n    alpha: true\n  });\n  renderer.setSize(width, height);\n  renderer.setClearColor(new THREE.Color('#010101'), 1.);\n  renderer.shadowMap.enabled = true;\n  renderer.gammaFactor = 2.2;\n  renderer.gammaOutput = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n  renderer.toneMapping = THREE.ReinhardToneMapping;\n  const audio = new Audio();\n  const sphere = new Sphere();\n  const particles = new Particles();\n  const gui = new Gui();\n\n  this.load = async () => {\n    await audio.load();\n    sphere.setUp(audio);\n    scene.add(sphere.mesh);\n    gui.setUpSphereDashboard(sphere);\n    await particles.setUp(audio);\n    scene.add(particles.points);\n  };\n\n  this.render = () => {\n    renderer.setAnimationLoop(() => {\n      audio.update();\n      sphere.update();\n      particles.update();\n      renderer.render(scene, camera);\n    });\n  };\n};\n\nexport default WebGL;","map":{"version":3,"sources":["/Users/alexiaperesson/site-aperesso/webgl/index.js"],"names":["THREE","CAMERA_SETTINGS","Audio","Gui","getDimensions","Sphere","Particles","WebGL","canvas","document","getElementById","width","height","scene","Scene","camera","PerspectiveCamera","fov","near","far","position","set","renderer","WebGLRenderer","alpha","setSize","setClearColor","Color","shadowMap","enabled","gammaFactor","gammaOutput","type","PCFSoftShadowMap","toneMapping","ReinhardToneMapping","audio","sphere","particles","gui","load","setUp","add","mesh","setUpSphereDashboard","points","render","setAnimationLoop","update"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAGA,SAASC,eAAT,QAAgC,kBAAhC;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,aAAT,QAA8B,SAA9B;AAEA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;;AAGA,MAAMC,KAAK,GAAG,YAAW;AACvB,QAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAf;AACA,QAAM;AAAEC,IAAAA,KAAF;AAAUC,IAAAA;AAAV,MAAqBR,aAAa,CAAC,OAAD,CAAxC;AAEA,QAAMS,KAAK,GAAG,IAAIb,KAAK,CAACc,KAAV,EAAd;AACA,QAAMC,MAAM,GAAG,IAAIf,KAAK,CAACgB,iBAAV,CAA4Bf,eAAe,CAACgB,GAA5C,EAAiDN,KAAK,GAAGC,MAAzD,EAAiEX,eAAe,CAACiB,IAAjF,EAAuFjB,eAAe,CAACkB,GAAvG,CAAf;AACAJ,EAAAA,MAAM,CAACK,QAAP,CAAgBC,GAAhB,CAAoB,CAApB,EAAsB,CAAtB,EAAwB,EAAxB;AAEA,QAAMC,QAAQ,GAAG,IAAItB,KAAK,CAACuB,aAAV,CAAwB;AAAEf,IAAAA,MAAF;AAAWgB,IAAAA,KAAK,EAAE;AAAlB,GAAxB,CAAjB;AACAF,EAAAA,QAAQ,CAACG,OAAT,CAAiBd,KAAjB,EAAwBC,MAAxB;AACAU,EAAAA,QAAQ,CAACI,aAAT,CAAuB,IAAI1B,KAAK,CAAC2B,KAAV,CAAgB,SAAhB,CAAvB,EAAmD,EAAnD;AACAL,EAAAA,QAAQ,CAACM,SAAT,CAAmBC,OAAnB,GAA6B,IAA7B;AACAP,EAAAA,QAAQ,CAACQ,WAAT,GAAuB,GAAvB;AACAR,EAAAA,QAAQ,CAACS,WAAT,GAAuB,IAAvB;AACAT,EAAAA,QAAQ,CAACM,SAAT,CAAmBI,IAAnB,GAA0BhC,KAAK,CAACiC,gBAAhC;AACAX,EAAAA,QAAQ,CAACY,WAAT,GAAuBlC,KAAK,CAACmC,mBAA7B;AAEA,QAAMC,KAAK,GAAG,IAAIlC,KAAJ,EAAd;AACA,QAAMmC,MAAM,GAAG,IAAIhC,MAAJ,EAAf;AACA,QAAMiC,SAAS,GAAG,IAAIhC,SAAJ,EAAlB;AACA,QAAMiC,GAAG,GAAG,IAAIpC,GAAJ,EAAZ;;AAEA,OAAKqC,IAAL,GAAY,YAAY;AACtB,UAAMJ,KAAK,CAACI,IAAN,EAAN;AACAH,IAAAA,MAAM,CAACI,KAAP,CAAaL,KAAb;AACAvB,IAAAA,KAAK,CAAC6B,GAAN,CAAUL,MAAM,CAACM,IAAjB;AACAJ,IAAAA,GAAG,CAACK,oBAAJ,CAAyBP,MAAzB;AACA,UAAMC,SAAS,CAACG,KAAV,CAAgBL,KAAhB,CAAN;AACAvB,IAAAA,KAAK,CAAC6B,GAAN,CAAUJ,SAAS,CAACO,MAApB;AACD,GAPD;;AASA,OAAKC,MAAL,GAAc,MAAM;AAClBxB,IAAAA,QAAQ,CAACyB,gBAAT,CACE,MAAM;AACJX,MAAAA,KAAK,CAACY,MAAN;AACAX,MAAAA,MAAM,CAACW,MAAP;AACAV,MAAAA,SAAS,CAACU,MAAV;AACA1B,MAAAA,QAAQ,CAACwB,MAAT,CAAgBjC,KAAhB,EAAuBE,MAAvB;AACD,KANH;AAQD,GATD;AAUD,CAzCD;;AA2CA,eAAeR,KAAf","sourcesContent":["import * as THREE from 'three';\n  \n\nimport { CAMERA_SETTINGS } from './utils/settings';\nimport Audio from './utils/audio';\nimport Gui from './utils/gui';\nimport { getDimensions } from './utils';\n\nimport Sphere from './scene/sphere';\nimport Particles from './scene/particles';\n\n\nconst WebGL = function() {\n  const canvas = document.getElementById('webGL');\n  const { width , height } = getDimensions('webGL');\n\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(CAMERA_SETTINGS.fov, width / height, CAMERA_SETTINGS.near, CAMERA_SETTINGS.far);\n  camera.position.set(0,0,20);\n\n  const renderer = new THREE.WebGLRenderer({ canvas , alpha: true });\n  renderer.setSize(width, height);\n  renderer.setClearColor(new THREE.Color('#010101'), 1.);\n  renderer.shadowMap.enabled = true;\n  renderer.gammaFactor = 2.2;\n  renderer.gammaOutput = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n  renderer.toneMapping = THREE.ReinhardToneMapping;\n\n  const audio = new Audio();\n  const sphere = new Sphere();\n  const particles = new Particles();\n  const gui = new Gui();\n\n  this.load = async () => {\n    await audio.load();\n    sphere.setUp(audio);\n    scene.add(sphere.mesh);\n    gui.setUpSphereDashboard(sphere);\n    await particles.setUp(audio);\n    scene.add(particles.points);\n  }\n\n  this.render = () => {\n    renderer.setAnimationLoop(\n      () => {\n        audio.update();\n        sphere.update();\n        particles.update();\n        renderer.render(scene, camera);\n      }\n    )\n  }\n}\n\nexport default WebGL;"]},"metadata":{},"sourceType":"module"}